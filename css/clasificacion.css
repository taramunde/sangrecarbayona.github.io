/* css/clasificacion.css */

/* --- TÍTULO --- */
.hero-clasificacion {
    text-align: center;
    padding: 20px;
    background: linear-gradient(to right, #0033cc, #0057b8);
    color: white;
    border-radius: 0 0 20px 20px;
    margin-bottom: 20px;
}

.hero-clasificacion h1 { margin: 0; font-size: 2em; text-transform: uppercase; }
.hero-clasificacion p { margin-top: 5px; opacity: 0.9; font-size: 0.9em; }

/* --- CONTENEDOR DE LA TABLA (CARD) --- */
.table-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    padding: 20px;
    width: 95%;
    max-width: 1200px;
    margin: 0 auto;
}

/* --- TABLA --- */
.table-responsive {
    width: 100%;
    overflow-x: visible;
}

table {
    width: 100%;
    border-collapse: collapse;
    font-family: 'Roboto', sans-serif;
    font-size: 0.85em;
    table-layout: auto;
}

th {
    background-color: #0033cc;
    color: white;
    /* Reducimos drásticamente el padding lateral */
    padding: 8px 2px; 
    text-align: center;
    cursor: pointer;
    white-space: nowrap;
    font-size: 0.9em;
}

th:first-child { border-radius: 8px 0 0 0; }
th:last-child { border-radius: 0 8px 0 0; }

td {
    /* Reducimos el padding lateral casi a cero */
    padding: 8px 1px; 
    text-align: center;
    border-bottom: 1px solid #eee;
}

/* --- ANCHOS ESPECÍFICOS PARA HACERLA ESTRECHA --- */

/* Columna Posición (1) */
th:nth-child(1), td:nth-child(1) {
    width: 35px; 
    min-width: 30px;
}

/* Columna Club (2) - Alineada izq, pero compacta */
td:nth-child(2) { 
    text-align: left; 
    font-weight: bold; 
    padding-left: 8px !important; /* Un poco de aire solo a la izquierda del nombre */
    padding-right: 4px !important;
    white-space: nowrap;
    max-width: 200px; /* En PC limita el ancho para que no sea enorme */
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Columnas de Datos Numéricos (PTS, PJ, PG, etc...) */
/* Forzamos a que sean muy estrechas */
th:nth-child(n+3), td:nth-child(n+3) {
    width: 40px; /* Ancho fijo pequeño para los números */
    max-width: 45px;
}

/* Escudos */
.escudo-tabla { width: 30px; height: 30px; object-fit: contain; }

/* Filas alternas */
tr:nth-child(even) { background-color: #f9f9f9; }
tr:hover { background-color: #f0f4ff; }

/* --- ESTILO ESPECÍFICO REAL OVIEDO --- */
tr.row-oviedo {
    background-color: #e6f0ff !important;
    border-left: 4px solid #ffcc00;
}
tr.row-oviedo td { font-weight: bold; color: #0033cc; }

/* --- LEYENDA --- */
.leyenda-container {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid #eee;
    font-size: 0.85em;
}

.leyenda-item { display: flex; align-items: center; gap: 6px; }
.dot { width: 12px; height: 12px; border-radius: 50%; display: inline-block; }

.dot.champions { background-color: #228b22; } /* Verde Champions */
.dot.europa { background-color: #20b2aa; }    /* Turquesa Europa */
.dot.conference { background-color: #0000ff; }/* Azul Conference */
.dot.descenso { background-color: #ff0000; }  /* Rojo Descenso */

/* Indicadores de posición en la tabla (borde izquierdo de celda pos) */
.pos-champions { border-left: 4px solid #228b22; }
.pos-europa { border-left: 4px solid #20b2aa; }
.pos-conference { border-left: 4px solid #0000ff; }
.pos-descenso { border-left: 4px solid #ff0000; }

/* --- GRÁFICA --- */
.chart-section { width: 95%; max-width: 1200px; margin: 0 auto; }

.chart-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    padding: 20px;
}

.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 15px;
}

.chart-header h2 { margin: 0; color: #0033cc; font-size: 1.4em; }

.chart-stats { display: flex; gap: 20px; }
.stat-box {
    background: #f0f8ff;
    padding: 8px 15px;
    border-radius: 8px;
    border-left: 3px solid #0033cc;
    text-align: center;
}

.stat-box .label { display: block; font-size: 0.75em; color: #666; }
.stat-box .value { font-size: 1.2em; font-weight: bold; color: #0033cc; }

.chart-container {
    position: relative;
    height: 400px;
    width: 100%;
}

/* --- COLORES DIFERENCIA DE GOLES --- */
.dg-positiva {
    color: #008f39 !important; /* Verde */
    font-weight: bold;
}

.dg-negativa {
    color: #e60000 !important; /* Rojo */
    font-weight: bold;
}

/* --- MÓVIL Y TABLET --- */
@media (max-width: 1024px) {
    
    /* 1. Scroll horizontal activado */
    .table-responsive {
        overflow-x: auto !important; 
        -webkit-overflow-scrolling: touch;
        margin-bottom: 15px;
    }

    /* Ancho mínimo total reducido para evitar espacios vacíos */
    .table-responsive table {
        min-width: 450px; /* Reducido de 550px a 450px para apretar todo más */
    }

    .desktop-only { display: table-cell; }

    /* Cabeceras y Celdas generales */
    th, td {
        font-size: 10px !important;
        padding: 4px 1px !important; /* Padding mínimo */
    }

    /* --- AJUSTE AGRESIVO COLUMNA CLUB (La clave de tu problema) --- */
    th:nth-child(2), 
    td:nth-child(2) {
        width: 75px !important;      /* Forzamos un ancho pequeño fijo */
        max-width: 75px !important;  /* IMPEDIMOS que crezca más de 75px */
        
        overflow: hidden !important; /* Lo que no quepa, se oculta */
        text-overflow: ellipsis !important; /* Añade "..." al final (Ej: "Real Vall...") */
        white-space: nowrap !important; /* Obliga a una sola línea */
        
        padding-left: 4px !important;
        text-align: left;
    }
    
    /* Ajuste escudo para que no moleste */
    .escudo-tabla { 
        width: 16px; 
        height: 16px; 
        vertical-align: middle;
        margin-right: 2px; /* Pegar el escudo al texto */
    }

    /* --- Resto de columnas de números (PJ, PG, etc) --- */
    th:nth-child(n+3), 
    td:nth-child(n+3) {
        width: 22px !important; /* Muy estrechas */
        max-width: 25px !important;
    }
    
    /* Columna Posición (la primera) */
    th:nth-child(1), td:nth-child(1) {
        width: 15px !important;
        padding-left: 1px !important;
    }

    /* Gráfica */
    .chart-header { flex-direction: column; text-align: center; }
    .chart-container { height: 250px; }
}

    /* --- AJUSTES PARA LA CLASIFICACIÓN AUTOMÁTICA (API) --- */

/* Círculos de posición (Rank) */
.rank-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    font-weight: bold;
    color: white;
    background-color: #7f8c8d; /* Gris por defecto */
    font-size: 11px;
}

/* Colores de estados (Basados en estándares de liga) */
.rank-badge.champions { 
    background-color: #2ecc71 !important; /* Verde - Ascenso Directo */
}

.rank-badge.conference { 
    background-color: #f1c40f !important; /* Amarillo/Dorado - Playoff */
    color: #000 !important;
}

.rank-badge.descenso { 
    background-color: #e74c3c !important; /* Rojo - Descenso */
}

/* Ajuste para las celdas de equipo que genera la API */
.team-cell {
    display: flex;
    align-items: center;
    gap: 8px;
    text-align: left;
}

.team-mini-logo {
    width: 18px;
    height: 18px;
    object-fit: contain;
    flex-shrink: 0;
}

.team-name-table {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Resaltado para el Real Oviedo cuando aparezca en la lista */
tr.oviedo-highlight {
    background-color: rgba(0, 51, 204, 0.1) !important; /* Un azul muy clarito */
}
